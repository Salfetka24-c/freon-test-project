<section class="order">
    <h2 class="order-title">MAKE ORDER</h2>

    <div class="order-card">
        <!-- Header -->
        <div class="order-head">
            <span>Name</span>
            <span>Quantity</span>
            <span>Price</span>
            <span>Amount</span>
        </div>

        <!-- Rows -->
        <div class="order-rows">
            @for (product of productService.products(); track product.id) {
            <div class="order-row">
                <!-- Product -->
                <div class="cell product">
                    <img [src]="product.image" alt="" />
                    <strong>{{ product.name }}</strong>
                </div>

                <!-- Quantity -->
                <div class="cell qty">
                    <button (click)="productService.decrement(product.code)">âˆ’</button>

                    <input #qtyInput type="number" min="0" max="1000" [value]="product.qty"
                        (keydown.enter)="applyQty(product.code, qtyInput.value)" (blur)="applyQty(product.code, qtyInput.value)" />

                    <button (click)="productService.increment(product.code)">+</button>
                </div>

                <!-- Price -->
                <div class="cell price">
                    {{ product.price }} <small>euro</small>
                </div>

                <!-- Amount -->
                <div class="cell amount">
                    {{ product.qty * product.price }} <small>euro</small>
                </div>
            </div>
            }
        </div>

        <div class="divider"></div>

        <!-- Footer -->
        <div class="order-footer">
            <span class="together">Together</span>
            <span class="total-qty">{{ totalQty }}</span>
            <span class="total-price">{{ totalPrice }} euro</span>
            <button class="order-btn">MAKE ORDER</button>
        </div>
    </div>
</section>